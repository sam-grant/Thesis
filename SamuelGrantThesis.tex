% Document class and settings
\documentclass[oneside, 11pt]{report}
\usepackage[utf8]{inputenc}
\renewcommand{\thesection}{\arabic{section}}

% Page layout and margins
\usepackage[a4paper, margin=1.25in, top=1.2in, bottom=1.2in, headsep=20pt]{geometry} 

% Text spacing
\usepackage{setspace}
\setstretch{1.5} % 1.5 text spacing
\renewcommand{\arraystretch}{1.2} % table row spacing

% Math packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{bm}
\usepackage{siunitx}

% Graphics and figures
\usepackage{graphicx}
\usepackage{mwe}
\usepackage{float}
\usepackage[export]{adjustbox}
\usepackage{placeins}
\usepackage{rotating}
\usepackage{pdflscape}

% Tables
\usepackage{tabularx}
\usepackage{makecell}
\usepackage{arydshln}
\usepackage{array, multirow, bigdelim, makecell, booktabs} 
\usepackage{multirow}

% Captions and symbols
\usepackage{gensymb}
\usepackage{caption}
\usepackage[labelfont=bf]{caption}
\usepackage[caption=false]{subfig}

% References and links
\usepackage{notoccite}
\usepackage[obeyspaces]{url}
\usepackage[hidelinks]{hyperref} 

% Miscellaneous formatting
\usepackage{chngcntr}
\usepackage{feynmf}
\usepackage[bottom]{footmisc}
\usepackage{xcolor}
\usepackage[super]{nth}
\usepackage{afterpage}
\usepackage{titlesec}
\usepackage{changepage}

% Headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
%% Normal headers and footers (headers are all like RH pages for oneside)
\ifx\@oneside\@empty%
  \fancyhead[RO,LE]{\bfseries\thepage}%
  \fancyhead[LO,RE]{\bfseries\nouppercase{\thechapter.\ \leftmark}}%
\else%
  \fancyhead[RO,R]{\bfseries\thepage}%
  \fancyhead[LO,L]{\bfseries\nouppercase{\leftmark}}%
\fi%
\fancyfoot{}%
%% Lower case header content
\renewcommand{\chaptermark}[1]{%
  \markboth{#1}{}%
}

% Float positioning
\renewcommand{\topfraction}{0.99}%
\renewcommand{\bottomfraction}{0.99}%

% Remove page numbers from plain pages
\makeatletter
\let\ps@plain\ps@empty
\makeatother

% Chapter title formatting
\interfootnotelinepenalty=10000
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}

% Custom commands
\newcommand\myworries[1]{\textcolor{red}{#1}}

% Appendix formatting
\usepackage[toc,page]{appendix}

% Title page patches (prevents page counter reset)
\usepackage{etoolbox}
\makeatletter
\patchcmd{\titlepage}{\setcounter{page}\@ne}{}     {}{\PackageError{titlepage}{failed to patch \string\begin{titlepage} to not reset the page counter}{}}
\patchcmd{\endtitlepage}{\setcounter{page}\@ne}{}  {}{\PackageError{titlepage}{failed to patch \string\end{titlepage} to not reset the page counter}{}}
\makeatother

% Document content starts here
\begin{document}

\input{Title} 

% Roman numerals for front matter
\pagenumbering{roman}

% Preface
\input{Declaration} 
\input{Acknowledgements}
\input{Abstract}

% Contents, figures, tables
\tableofcontents
\listoffigures
\listoftables

\clearpage

% Arabic numerals for main content
\pagenumbering{arabic}

% Chapters
\input{Chapter1}
\input{Chapter2}
\input{Chapter3}
\input{Chapter4}
\input{Chapter5}
\input{Chapter6}
\input{Chapter7}

% Bibliography
\bibliographystyle{unsrt}{}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{bibliography}

% Appendix
\input{Appendix}

\end{document}